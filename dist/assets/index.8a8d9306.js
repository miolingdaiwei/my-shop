import{_ as b,d as k,r as i,f as C,o as w,g,h as n,a as V,c as I,e as a,i as u,w as l,u as t,j as S,E as q,p as M,k as N,l as m,m as h}from"./index.194e673c.js";import{c as U}from"./sendCheckCode.5cd94326.js";const v=d=>(M("data-v-34051672"),d=d(),N(),d),j={class:"login-body"},L={class:"login-container"},R={class:"head"},T=v(()=>a("div",{class:"name"},[a("div",{class:"title"},"\u8F89\u4ED4\u6742\u8D27\u94FA"),a("div",{class:"tips"},"Vue3.0 \u524D\u53F0\u6742\u8D27\u94FA\u54E6")],-1)),z=v(()=>a("div",{style:{color:"#333"}},[m(" \u767B\u5F55\u8868\u793A\u60A8\u5DF2\u540C\u610F "),a("a",null,"\u300A\u670D\u52A1\u6761\u6B3E\u300B")],-1)),G=m("\u7ACB\u5373\u767B\u5F55"),H=m("\u4E0B\u6B21\u81EA\u52A8\u767B\u5F55"),J=m("\u624B\u673A\u53F7\u767B\u5F55"),K=k({setup(d){const F=i(null),_=i(!1);let r=i(!1);const A=i({username:[{required:!0,message:"\u8D26\u6237\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],password:[{required:!0,message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],checkCode:[{required:!0,message:"\u9A8C\u8BC1\u7801\u4E0D\u80FD\u4E3A\u63A7",trigger:"blur"}]});let o=C({username:"",password:0,checkCode:""});const B=()=>{_.value=!0,U().then(p=>{for(let e of p.data.user)if(e.username==o.username&&e.password==o.password){h("\u767B\u5F55\u6210\u529F"),r.value&&localStorage.setItem("autologin",o.username),g.push({path:"/",query:{username:o.username}});return}else h("\u8D26\u53F7\u6216\u5BC6\u7801\u9519\u8BEF")}),_.value=!1};return w(()=>{localStorage.getItem("autologin")&&g.push({path:"/",query:{username:localStorage.getItem("autologin")}})}),(p,e)=>{const E=n("el-image"),f=n("el-input"),c=n("el-form-item"),x=n("el-button"),y=n("el-checkbox"),D=n("el-link");return V(),I("div",j,[a("div",L,[a("div",R,[u(E,{style:{width:"100px",height:"100px"},src:"https://cbu01.alicdn.com/img/ibank/2020/726/496/17008694627_2070773686.search.jpg",fit:"fill"}),T]),u(t(q),{"label-position":"top",ref_key:"loginForm",ref:F,class:"login-form",model:t(o),rules:A.value},{default:l(()=>[u(c,{label:"\u8D26\u53F7",prop:"username"},{default:l(()=>[u(f,{type:"text",autocomplete:"off",modelValue:t(o).username,"onUpdate:modelValue":e[0]||(e[0]=s=>t(o).username=s),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1}),u(c,{label:"\u5BC6\u7801",prop:"password"},{default:l(()=>[u(f,{type:"password",autocomplete:"off",modelValue:t(o).password,"onUpdate:modelValue":e[1]||(e[1]=s=>t(o).password=s),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1}),u(c,null,{default:l(()=>[z,u(x,{style:{width:"100%"},type:"primary",onClick:B,loading:_.value},{default:l(()=>[G]),_:1},8,["loading"]),u(y,{modelValue:t(r),"onUpdate:modelValue":e[2]||(e[2]=s=>S(r)?r.value=s:r=s),onChange:e[3]||(e[3]=s=>!t(r))},{default:l(()=>[H]),_:1},8,["modelValue"]),u(D,{href:"/cellLogin"},{default:l(()=>[J]),_:1})]),_:1})]),_:1},8,["model","rules"])])])}}});var Q=b(K,[["__scopeId","data-v-34051672"]]);export{Q as default};

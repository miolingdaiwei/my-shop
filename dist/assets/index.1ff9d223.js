import{_ as y,d as D,r as i,f as C,o as w,g as f,h as n,a as V,c as k,e as l,i as o,w as r,u as t,j as I,E as S,p as q,k as M,l as _,m as h}from"./index.e6a5b4e6.js";import{c as N}from"./sendCheckCode.86fdcfe4.js";const v=d=>(q("data-v-9d4027bc"),d=d(),M(),d),U={class:"login-body"},j={class:"login-container"},L={class:"head"},R=v(()=>l("div",{class:"name"},[l("div",{class:"title"},"\u8F89\u4ED4\u6742\u8D27\u94FA"),l("div",{class:"tips"},"Vue3.0 \u524D\u53F0\u6742\u8D27\u94FA\u54E6")],-1)),T=v(()=>l("div",{style:{color:"#333"}},[_(" \u767B\u5F55\u8868\u793A\u60A8\u5DF2\u540C\u610F "),l("a",null,"\u300A\u670D\u52A1\u6761\u6B3E\u300B")],-1)),z=_("\u7ACB\u5373\u767B\u5F55"),G=_("\u4E0B\u6B21\u81EA\u52A8\u767B\u5F55"),H=D({setup(d){const F=i(null),m=i(!1);let a=i(!1);const A=i({username:[{required:!0,message:"\u8D26\u6237\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],password:[{required:!0,message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],checkCode:[{required:!0,message:"\u9A8C\u8BC1\u7801\u4E0D\u80FD\u4E3A\u63A7",trigger:"blur"}]});let u=C({username:"",password:0,checkCode:""});const E=()=>{m.value=!0,N().then(c=>{for(let e of c.data.user)if(console.log(c),e.username==u.username&&e.password==u.password){h("\u767B\u5F55\u6210\u529F"),a.value&&localStorage.setItem("autologin",u.username),console.log("push\u95EE\u9898"),f.push({path:"/",query:{username:u.username}});return}else h("\u8D26\u53F7\u6216\u5BC6\u7801\u9519\u8BEF")}),m.value=!1};return w(()=>{localStorage.getItem("autologin")&&f.push({path:"/",query:{username:localStorage.getItem("autologin")}})}),(c,e)=>{const B=n("el-image"),g=n("el-input"),p=n("el-form-item"),b=n("el-button"),x=n("el-checkbox");return V(),k("div",U,[l("div",j,[l("div",L,[o(B,{style:{width:"100px",height:"100px"},src:"https://cbu01.alicdn.com/img/ibank/2020/726/496/17008694627_2070773686.search.jpg",fit:"fill"}),R]),o(t(S),{"label-position":"top",ref_key:"loginForm",ref:F,class:"login-form",model:t(u),rules:A.value},{default:r(()=>[o(p,{label:"\u8D26\u53F7",prop:"username"},{default:r(()=>[o(g,{type:"text",autocomplete:"off",modelValue:t(u).username,"onUpdate:modelValue":e[0]||(e[0]=s=>t(u).username=s),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1}),o(p,{label:"\u5BC6\u7801",prop:"password"},{default:r(()=>[o(g,{type:"password",autocomplete:"off",modelValue:t(u).password,"onUpdate:modelValue":e[1]||(e[1]=s=>t(u).password=s),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1}),o(p,null,{default:r(()=>[T,o(b,{style:{width:"100%"},type:"primary",onClick:E,loading:m.value},{default:r(()=>[z]),_:1},8,["loading"]),o(x,{modelValue:t(a),"onUpdate:modelValue":e[2]||(e[2]=s=>I(a)?a.value=s:a=s),onChange:e[3]||(e[3]=s=>!t(a))},{default:r(()=>[G]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])])}}});var O=y(H,[["__scopeId","data-v-9d4027bc"]]);export{O as default};
